<html>
<head>
	<title></title>
</head>
<body>
<canvas width="500" height="500" id="canvas"></canvas>
<img id="canvasImg" alt="Right click to save me!">
<script type="text/javascript">

	var particle_count = 100;
	for(var i = 0; i < particle_count; i++)
	{
		// particles.push(new particle());
		// console.log("hellow");
	}
	var r = 100;
	var xy1 = [],xy2=[];
	for (var i = 0; i <=360; i++) {
		// x	=acost;
		// y	=asint
		angle= i*22/(7*180);
		x = r*Math.cos(angle);
		y = r*Math.sin(angle);
		x1 = 70*Math.cos(angle);
		y1 = 70*Math.sin(angle);
		xy1.push({x : x,y : y});
		xy2.push({x : x1,y : y1});
	};

	// console.log(xy1);

	var canvas = document.getElementById("canvas");
	var ctx = this.canvas.getContext("2d");
	w = 500;
	h = 500;
	var dataURL;

	// for (var i = 0; i < xy.length; i++) {
	// 	var mm = xy[i];
	// 	ctx.moveTo(0, 0);
	// 	ctx.lineTo(mm.x, mm.y);
	// 	ctx.strokeStyle = '#ff0000';
	// 	ctx.stroke();
	// };
	var timer = 0;
	i = 0, j=0;
	function onCircle () {
		ctx.clearRect(0,0,w,h);
		// i++;
		firstCircle();
		secondCircle();
		if (i%4===0) {
			j++
		};

	}
	var img = new Image();
	img.src = "images/cloudy.png";
	img.onload = function () {
            ctx.rotate(degrees*Math.PI/180);
            // console.log(mm.x,mm.y);
            ctx.drawImage(img, mm.x, mm.y,50,50);
        }

	function firstCircle () {
		ctx.save();
		ctx.translate(250,150);
		var mm = xy1[i];
		ctx.beginPath();
		ctx.moveTo(0, 0);
		ctx.lineTo(mm.x, mm.y);
		ctx.arc(mm.x,mm.y,10,0,2*Math.PI);

		ctx.strokeStyle = '#ff0000';
		ctx.stroke();

        var degrees = 0;
        ctx.drawImage(img, mm.x, mm.y,50,50);

		ctx.restore();
		i++;
		if (i>=360) {
			i=0;
		}
	}

	/*function firstCircle () {
		ctx.save();
		ctx.translate(250,150);
		var mm = xy1[i];
		ctx.beginPath();
		ctx.moveTo(0, 0);
		ctx.lineTo(mm.x, mm.y);
		ctx.arc(mm.x,mm.y,10,0,2*Math.PI);

		ctx.strokeStyle = '#ff0000';
		ctx.stroke();

		var img = new Image();
        var degrees = 0;
        img.onload = function () {
            ctx.rotate(degrees*Math.PI/180);
            console.log(mm.x,mm.y);
            ctx.drawImage(img, mm.x, mm.y,50,50);
        }
        img.src = "images/cloudy.png";
		ctx.restore();
		i++;
		if (i>=360) {
			i=0;
		}
	}*/

	function secondCircle () {
		ctx.save();
		ctx.translate(250,150);
		var mm = xy2[j];
		ctx.beginPath();
		ctx.moveTo(0, 0);
		ctx.lineTo(mm.x, mm.y);
		ctx.strokeStyle = '#00ff00';
		ctx.arc(mm.x,mm.y,10,0,2*Math.PI);
		ctx.lineWidth = "10";
		ctx.stroke();
		ctx.restore();
		// j++;
		if (j>=359) {
			j=0;
		}

		// dataURL = canvas.toDataURL();
		// document.getElementById('canvasImg').src = dataURL;
		// console.log(dataURL);
		// clearInterval(newInt);
	}
	var newInt = setInterval(onCircle,10);

	console.log(Math.round(2.5));
	console.log(Math.round(2.1));
	console.log(Math.round(2.6));
</script>

</body>
</html>